GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 1


   1              	# 1 "./components/spc5_freertos_component_rla/lib/portable/portasm.s"
   1              	/*
   0              	
   0              	
   2              	;
   3              	;    FreeRTOS V7.3.0 - Copyright (C) 2012 Real Time Engineers Ltd.
   4              	;
   5              	;    FEATURES AND PORTS ARE ADDED TO FREERTOS ALL THE TIME.  PLEASE VISIT
   6              	;    http://www.FreeRTOS.org TO ENSURE YOU ARE USING THE LATEST VERSION.
   7              	;
   8              	;    ***************************************************************************
   9              	;     *                                                                       *
  10              	;     *    FreeRTOS tutorial books are available in pdf and paperback.        *
  11              	;     *    Complete, revised, and edited pdf reference manuals are also       *
  12              	;     *    available.                                                         *
  13              	;     *                                                                       *
  14              	;     *    Purchasing FreeRTOS documentation will not only help you, by       *
  15              	;     *    ensuring you get running as quickly as possible and with an        *
  16              	;     *    in-depth knowledge of how to use FreeRTOS, it will also help       *
  17              	;     *    the FreeRTOS project to continue with its mission of providing     *
  18              	;     *    professional grade, cross platform, de facto standard solutions    *
  19              	;     *    for microcontrollers - completely free of charge!                  *
  20              	;     *                                                                       *
  21              	;     *    >>> See http://www.FreeRTOS.org/Documentation for details. <<<     *
  22              	;     *                                                                       *
  23              	;     *    Thank you for using FreeRTOS, and thank you for your support!      *
  24              	;     *                                                                       *
  25              	;    ***************************************************************************
  26              	;
  27              	;
  28              	;    This file is part of the FreeRTOS distribution.
  29              	;
  30              	;    FreeRTOS is free software; you can redistribute it and/or modify it under
  31              	;    the terms of the GNU General Public License (version 2) as published by the
  32              	;    Free Software Foundation AND MODIFIED BY the FreeRTOS exception.
  33              	;    >>>NOTE<<< The modification to the GPL is included to allow you to
  34              	;    distribute a combined work that includes FreeRTOS without being obliged to
  35              	;    provide the source code for proprietary components outside of the FreeRTOS
  36              	;    kernel.  FreeRTOS is distributed in the hope that it will be useful, but
  37              	;    WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
  38              	;    or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
  39              	;    more details. You should have received a copy of the GNU General Public
  40              	;    License and the FreeRTOS license exception along with FreeRTOS; if not it
  41              	;    can be viewed here: http://www.freertos.org/a00114.html and also obtained
  42              	;    by writing to Richard Barry, contact details for whom are available on the
  43              	;    FreeRTOS WEB site.
  44              	;
  45              	;    1 tab == 4 spaces!
  46              	;
  47              	;    ***************************************************************************
  48              	;     *                                                                       *
  49              	;     *    Having a problem?  Start by reading the FAQ "My application does   *
  50              	;     *    not run, what could be wrong?"                                     *
  51              	;     *                                                                       *
  52              	;     *    http://www.FreeRTOS.org/FAQHelp.html                               *
  53              	;     *                                                                       *
  54              	;    ***************************************************************************
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 2


  55              	;
  56              	;
  57              	;    http://www.FreeRTOS.org - Documentation, training, latest versions, license
  58              	;    and contact details.
  59              	;
  60              	;    http://www.FreeRTOS.org/plus - A selection of FreeRTOS ecosystem products,
  61              	;    including FreeRTOS+Trace - an indispensable productivity tool.
  62              	;
  63              	;    Real Time Engineers ltd license FreeRTOS to High Integrity Systems, who sell
  64              	;    the code with commercial support, indemnification, and middleware, under
  65              	;    the OpenRTOS brand: http://www.OpenRTOS.com.  High Integrity Systems also
  66              	;    provide a safety engineered and independently SIL3 certified version under
  67              	;    the SafeRTOS brand: http://www.SafeRTOS.com.
  68              	;
  69              	;
  70              	; (C) Copyright 2013
  71              	; Promwad Innovation Company <www.promwad.com>
  72              	*/
  73              	/*
  74              	 *
  75              	 THIS PORTING IS WORKING FOR VLE ONLY !!!!!
  76              	 *
  77              	 */
  78              	#define _FROM_ASM_
  79              	#include "platform.h"
   1              	/*
   2              	    SPC5 RLA - Copyright (C) 2015 STMicroelectronics
   3              	
   4              	    Licensed under the Apache License, Version 2.0 (the "License").
   5              	    You may not use this file except in compliance with the License.
   6              	    You may obtain a copy of the License at
   7              	
   8              	        http://www.apache.org/licenses/LICENSE-2.0
   9              	
  10              	    Unless required by applicable law or agreed to in writing, software
  11              	    distributed under the License is distributed on an "AS IS" BASIS,
  12              	    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13              	    See the License for the specific language governing permissions and
  14              	    limitations under the License.
  15              	*/
  16              	
  17              	/**
  18              	 * @file    platform.h
  19              	 * @brief   platform file.
  20              	 */
  21              	
  22              	#ifndef _PLATFORM_H_
  23              	#define _PLATFORM_H_
  24              	
  25              	#include "core.h"
   1              	/*
  26              	#include "toolchain.h"
   1              	/*
  27              	#include "intc.h"
   1              	/*
  28              	#if !defined(_FROM_ASM_)
  80              	#include "boot.h"
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 3


   1              	/*
  81              	#include "osal_cfg.h"
   1              	/*
  82              	/*
  83              	    .vle
  84              	
  85              	    .extern vTaskSwitchContext
  86              	    .extern vTaskIncrementTick
  87              	    .extern vPortISRHandler
  88              	    .extern timer
  89              	*/
  90              	    .global pxCurrentTCB
  91              	/*
  92              	    .global vPortYield
  93              	    .global vPortTickISR
  94              	    .global vPortISRHandler
  95              	    .global vPortStartFirstTask
  96              	*/
  97              	
  98              	/*
  99              	--- Stack frame layout ---------------------------
 100              	  32 bytes  | Reserved area (may used by compiler)
 101              	--------------------------------------------------
 102              	   4 bytes  | MSR
 103              	    ...     | SRR0
 104              	            | SRR1
 105              	 128 bytes  | R0 - R31
 106              	   4 bytes  | CR
 107              	            | LR
 108              	            | CTR
 109              	            | XER
 110              	--- Total: 32 + 156 ------------------------------
 111              	*/
 112              	    .equ CONTEXT_SIZE, 156
 113              	
 114              	/* context switch macro */
 115              	.macro portSAVE_CONTEXT
 116              	    e_addi    r1, r1, -CONTEXT_SIZE
 117              	
 118              	    /* saving R0-R31 */
 119              	    e_stmw    r0, 12(r1)
 120              	
 121              	    /* saving MSR */
 122              	    mfmsr     r0
 123              	    e_stw     r0, 0(r1)
 124              	
 125              	    /* saving SRR0, SRR1 */
 126              	    mfspr     r0,  SRR0
 127              	    e_stw     r0, 4(r1)
 128              	    mfspr     r0,  SRR1
 129              	    e_stw     r0, 8(r1)
 130              	
 131              	    e_addi    r1, r1, 12 + 128
 132              	
 133              	    /* saving CR, LR, CTR, XER */
 134              	    e_stmvsprw 0(r1)
 135              	
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 4


 136              	    e_addi    r1, r1, 16
 137              	    e_addi    r1, r1, -CONTEXT_SIZE - 32
 138              	
 139              	    /* get the address of the TCB */
 140              	    e_lis     r11, pxCurrentTCB@h
 141              	    e_or2i    r11, pxCurrentTCB@l
 142              	    /* get pxTopOfStack address */
 143              	    e_lwz     r11, 0(r11)
 144              	    /* store the stack pointer into the TCB */
 145              	    e_stw     r1,  0(r11)
 146              	.endm
 147              	
 148              	/* context switch macro */
 149              	.macro portRESTORE_CONTEXT
 150              	    /* get the address of the TCB */
 151              	    e_lis     r11, pxCurrentTCB@h
 152              	    e_or2i    r11, pxCurrentTCB@l
 153              	
 154              	    /* get the task stack pointer from the TCB */
 155              	    e_lwz     r11, 0(r11)
 156              	    /* get pxTopOfStack address */
 157              	    e_lwz     r1,  0(r11)
 158              	    /* reserved stack area offset */
 159              	    e_addi    r1,  r1, 32
 160              	
 161              	    /* correct pxTopOfStack value. It allows nested context switchings */
 162              	    e_lwz     r2,  0(r11)
 163              	    e_addi    r2,  r2, CONTEXT_SIZE + 32
 164              	    e_stw     r2,  0(r11)
 165              	
 166              	    /* MSR restoring */
 167              	    e_lwz     r0,  0(r1)
 168              	    mtmsr     r0
 169              	
 170              	    /* SRR0, SRR1 restoring */
 171              	    e_lwz     r0,  4(r1)
 172              	    mtspr     SRR0,r0
 173              	    e_lwz     r0,  8(r1)
 174              	    mtspr     SRR1,r0
 175              	
 176              	    e_addi    r1,  r1, 12
 177              	
 178              	    /* restoring R2-R31, R0 */
 179              	    e_lmw     r2,  8(r1)
 180              	    e_lwz     r0,  0(r1)
 181              	    e_addi    r1,  r1, 128
 182              	
 183              	    /* restoring CR, LR, CTR, XER */
 184              	    e_lmvsprw 0(r1)
 185              	
 186              	    /* restoring R1 */
 187              	    e_addi    r1,  r1, 16
 188              	.endm
 189              	
 190              	    .section  .handlers, "axv"
 191              	_VLE
 192              	
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 5


 193              	#if (CORE_SUPPORTS_DECREMENTER == 1)
 194              	    .align    4
 195              	    .globl    _IVOR10
 196              	    .type     _IVOR10, @function
 197              	_IVOR10:
 198              	    portSAVE_CONTEXT
 199              	
 200              	    /* Reset DIE bit in TSR register */
 201              	    e_lis     %r3, 0x0800          /* DIS bit mask */
 202              	    mtspr     336, %r3             /* TSR register */
 203              	
 204              	#ifndef _SPC570Sxx_
 205              	    /* Restoring pre-IRQ MSR register value */
 206              	    mfSRR1    %r0
 207              	
 208              	    /* No preemption, keeping EE disabled */
 209              	    se_bclri  %r0, 16              /* EE = bit 16 */
 210              	    mtMSR     %r0
 211              	#endif
 212              	
 213              	    portRESTORE_CONTEXT
 214              	
 215              	    se_rfi
 216              	
 217              	#if (BOOT_CORE0 == 1)
 218              	    .align    4
 219              	    .globl    _C0_IVOR10
 220              	    .type     _C0_IVOR10, @function
 221              	_C0_IVOR10:
 222              	    portSAVE_CONTEXT
 223              	
 224              	    /* Reset DIE bit in TSR register */
 225              	    e_lis     %r3, 0x0800          /* DIS bit mask */
 226              	    mtspr     336, %r3             /* TSR register */
 227              	
 228              	#ifndef _SPC570Sxx_
 229              	    /* Restoring pre-IRQ MSR register value */
 230              	    mfSRR1    %r0
 231              	
 232              	    /* No preemption, keeping EE disabled */
 233              	    se_bclri  %r0, 16              /* EE = bit 16 */
 234              	    mtMSR     %r0
 235              	#endif
 236              	
 237              	    portRESTORE_CONTEXT
 238              	
 239              	    se_rfi
 240              	#endif /* BOOT_CORE0 */
 241              	#endif /* CORE_SUPPORTS_DECREMENTER */
 242              	
 243              	    .align    4
 244              	    .globl    _IVOR8
 245              	    .type     _IVOR8, @function
 246              	_IVOR8:
 247              	/* vPortYield: */
 248              	
 249              	    portSAVE_CONTEXT
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 6


 249 0000 18218464 	>  e_addi r1,r1,-CONTEXT_SIZE
 249              	> 
 249              	> 
 249 0004 1801090C 	>  e_stmw r0,12(r1)
 249              	> 
 249              	> 
 249 0008 7C0000A6 	>  mfmsr r0
 249 000c 54010000 	>  e_stw r0,0(r1)
 249              	> 
 249              	> 
 249 0010 7C1A02A6 	>  mfspr r0,SRR0
 249 0014 54010004 	>  e_stw r0,4(r1)
 249 0018 7C1B02A6 	>  mfspr r0,SRR1
 249 001c 54010008 	>  e_stw r0,8(r1)
 249              	> 
 249 0020 1821808C 	>  e_addi r1,r1,12+128
 249              	> 
 249              	> 
 249 0024 18211100 	>  e_stmvsprw 0(r1)
 249              	> 
 249 0028 18218010 	>  e_addi r1,r1,16
 249 002c 18218444 	>  e_addi r1,r1,-CONTEXT_SIZE-32
 249              	> 
 249              	> 
 249 0030 7160E000 	>  e_lis r11,pxCurrentTCB@h
 249 0034 7160C000 	>  e_or2i r11,pxCurrentTCB@l
 249              	> 
 249 0038 516B0000 	>  e_lwz r11,0(r11)
 249              	> 
 249 003c 542B0000 	>  e_stw r1,0(r11)
 250              	
 251 0040 78000001 	    e_bl      vTaskSwitchContext
 252              	
 253              	    portRESTORE_CONTEXT
 253              	> 
 253 0044 7160E000 	>  e_lis r11,pxCurrentTCB@h
 253 0048 7160C000 	>  e_or2i r11,pxCurrentTCB@l
 253              	> 
 253              	> 
 253 004c 516B0000 	>  e_lwz r11,0(r11)
 253              	> 
 253 0050 502B0000 	>  e_lwz r1,0(r11)
 253              	> 
 253 0054 18218020 	>  e_addi r1,r1,32
 253              	> 
 253              	> 
 253 0058 504B0000 	>  e_lwz r2,0(r11)
 253 005c 184280BC 	>  e_addi r2,r2,CONTEXT_SIZE+32
 253 0060 544B0000 	>  e_stw r2,0(r11)
 253              	> 
 253              	> 
 253 0064 50010000 	>  e_lwz r0,0(r1)
 253 0068 7C000124 	>  mtmsr r0
 253              	> 
 253              	> 
 253 006c 50010004 	>  e_lwz r0,4(r1)
 253 0070 7C1A03A6 	>  mtspr SRR0,r0
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 7


 253 0074 50010008 	>  e_lwz r0,8(r1)
 253 0078 7C1B03A6 	>  mtspr SRR1,r0
 253              	> 
 253 007c 1821800C 	>  e_addi r1,r1,12
 253              	> 
 253              	> 
 253 0080 18410808 	>  e_lmw r2,8(r1)
 253 0084 50010000 	>  e_lwz r0,0(r1)
 253 0088 18218080 	>  e_addi r1,r1,128
 253              	> 
 253              	> 
 253 008c 18211000 	>  e_lmvsprw 0(r1)
 253              	> 
 253              	> 
 253 0090 18218010 	>  e_addi r1,r1,16
 254              	
 255 0094 0008     	    se_rfi
 256              	
 257              	#if (BOOT_CORE0 == 1)
 258              	    .align    4
 259              	    .globl    _C0_IVOR8
 260              	    .type     _C0_IVOR8, @function
 261              	_C0_IVOR8:
 262              	
 263              	    portSAVE_CONTEXT
 264              	
 265              	    e_bl      vTaskSwitchContext
 266              	
 267              	    portRESTORE_CONTEXT
 268              	
 269              	    se_rfi
 270              	#endif /* BOOT_CORE0 */
 271              	
 272 0096 44004400 	    .align    4
 272      44004400 
 272      4400
 273              	    .globl    _IVOR4
 274              	    .type     _IVOR4, @function
 275              	_IVOR4:
 276              	/* vPortISRHandler: */
 277              	
 278              	    portSAVE_CONTEXT
 278 00a0 18218464 	>  e_addi r1,r1,-CONTEXT_SIZE
 278              	> 
 278              	> 
 278 00a4 1801090C 	>  e_stmw r0,12(r1)
 278              	> 
 278              	> 
 278 00a8 7C0000A6 	>  mfmsr r0
 278 00ac 54010000 	>  e_stw r0,0(r1)
 278              	> 
 278              	> 
 278 00b0 7C1A02A6 	>  mfspr r0,SRR0
 278 00b4 54010004 	>  e_stw r0,4(r1)
 278 00b8 7C1B02A6 	>  mfspr r0,SRR1
 278 00bc 54010008 	>  e_stw r0,8(r1)
 278              	> 
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 8


 278 00c0 1821808C 	>  e_addi r1,r1,12+128
 278              	> 
 278              	> 
 278 00c4 18211100 	>  e_stmvsprw 0(r1)
 278              	> 
 278 00c8 18218010 	>  e_addi r1,r1,16
 278 00cc 18218444 	>  e_addi r1,r1,-CONTEXT_SIZE-32
 278              	> 
 278              	> 
 278 00d0 7160E000 	>  e_lis r11,pxCurrentTCB@h
 278 00d4 7160C000 	>  e_or2i r11,pxCurrentTCB@l
 278              	> 
 278 00d8 516B0000 	>  e_lwz r11,0(r11)
 278              	> 
 278 00dc 542B0000 	>  e_stw r1,0(r11)
 279              	
 280 00e0 707FE7F4 	    e_lis     r3,  INTC_IACKR_BASE@h
 281 00e4 7070C010 	    e_or2i    r3,  INTC_IACKR_BASE@l
 282 00e8 50630000 	    e_lwz     r3,  0(r3)           /* load the base adress of Vector Table */
 283 00ec 50630000 	    e_lwz     r3,  0(r3)
 284 00f0 7C6903A6 	    mtctr     r3                   /* load ISR handler in CTR */
 285              	
 286              	    /* Restoring pre-IRQ MSR register value.*/
 287 00f4 7C1B02A6 	    mfSRR1    %r0
 288              	    /* No preemption, keeping EE disabled.*/
 289 00f8 6100     	    se_bclri  %r0, 16              /* EE = bit 16 */
 290 00fa 7C000124 	    mtMSR     %r0
 291              	
 292              	#if (OSAL_ENABLE_IRQ_PREEMPTION == 1)
 293              	    wrteei    1
 294              	#endif /* OSAL_ENABLE_IRQ_PREEMPTION */
 295              	
 296 00fe 0007     	    se_bctrl                       /* branch to handler */
 297              	
 298              	#if (OSAL_ENABLE_IRQ_PREEMPTION == 1)
 299              	    wrteei    0
 300              	#endif /* OSAL_ENABLE_IRQ_PREEMPTION */
 301              	
 302 0100 7C0006AC 	    mbar      0                    /* complete all pending operations */
 303 0104 707FE7F4 	    e_lis     r3,  INTC_EOIR_BASE@h
 304 0108 7070C018 	    e_or2i    r3,  INTC_EOIR_BASE@l
 305 010c 54630000 	    e_stw     r3,  0(r3)           /* write 0 to INTC_EOIR_BASE */
 306              	
 307              	    portRESTORE_CONTEXT
 307              	> 
 307 0110 7160E000 	>  e_lis r11,pxCurrentTCB@h
 307 0114 7160C000 	>  e_or2i r11,pxCurrentTCB@l
 307              	> 
 307              	> 
 307 0118 516B0000 	>  e_lwz r11,0(r11)
 307              	> 
 307 011c 502B0000 	>  e_lwz r1,0(r11)
 307              	> 
 307 0120 18218020 	>  e_addi r1,r1,32
 307              	> 
 307              	> 
 307 0124 504B0000 	>  e_lwz r2,0(r11)
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 9


 307 0128 184280BC 	>  e_addi r2,r2,CONTEXT_SIZE+32
 307 012c 544B0000 	>  e_stw r2,0(r11)
 307              	> 
 307              	> 
 307 0130 50010000 	>  e_lwz r0,0(r1)
 307 0134 7C000124 	>  mtmsr r0
 307              	> 
 307              	> 
 307 0138 50010004 	>  e_lwz r0,4(r1)
 307 013c 7C1A03A6 	>  mtspr SRR0,r0
 307 0140 50010008 	>  e_lwz r0,8(r1)
 307 0144 7C1B03A6 	>  mtspr SRR1,r0
 307              	> 
 307 0148 1821800C 	>  e_addi r1,r1,12
 307              	> 
 307              	> 
 307 014c 18410808 	>  e_lmw r2,8(r1)
 307 0150 50010000 	>  e_lwz r0,0(r1)
 307 0154 18218080 	>  e_addi r1,r1,128
 307              	> 
 307              	> 
 307 0158 18211000 	>  e_lmvsprw 0(r1)
 307              	> 
 307              	> 
 307 015c 18218010 	>  e_addi r1,r1,16
 308              	
 309 0160 0008     	    se_rfi
 310              	
 311              	#if (BOOT_CORE0 == 1)
 312              	    .align    4
 313              	    .globl    _C0_IVOR4
 314              	    .type     _C0_IVOR4, @function
 315              	_C0_IVOR4:
 316              	
 317              	    portSAVE_CONTEXT
 318              	
 319              	    e_lis     r3,  INTC_IACKR_BASE_0@h
 320              	    e_or2i    r3,  INTC_IACKR_BASE_0@l
 321              	    e_lwz     r3,  0(r3)           /* load the base adress of Vector Table */
 322              	    e_lwz     r3,  0(r3)
 323              	    mtctr     r3                   /* load ISR handler in CTR */
 324              	
 325              	    /* Restoring pre-IRQ MSR register value.*/
 326              	    mfSRR1    %r0
 327              	    /* No preemption, keeping EE disabled.*/
 328              	    se_bclri  %r0, 16              /* EE = bit 16 */
 329              	    mtMSR     %r0
 330              	
 331              	#if (OSAL_ENABLE_IRQ_PREEMPTION == 1)
 332              	    wrteei    1
 333              	#endif /* OSAL_ENABLE_IRQ_PREEMPTION */
 334              	
 335              	    se_bctrl                       /* branch to handler */
 336              	
 337              	#if (OSAL_ENABLE_IRQ_PREEMPTION == 1)
 338              	    wrteei    0
 339              	#endif /* OSAL_ENABLE_IRQ_PREEMPTION */
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 10


 340              	
 341              	    mbar      0                    /* complete all pending operations */
 342              	    e_lis     r3,  INTC_EOIR_BASE_0@h
 343              	    e_or2i    r3,  INTC_EOIR_BASE_0@l
 344              	    e_stw     r3,  0(r3)           /* write 0 to INTC_EOIR_BASE_0 */
 345              	
 346              	    portRESTORE_CONTEXT
 347              	
 348              	    se_rfi
 349              	#endif /* BOOT_CORE0 */
 350              	
 351 0162 44004400 	    .align    4
 351      44004400 
 351      44004400 
 351      4400
 352              	    .globl    vPortStartFirstTask
 353              	    .type     vPortStartFirstTask, @function
 354              	vPortStartFirstTask: 
 355              	
 356              	    portRESTORE_CONTEXT
 356              	> 
 356 0170 7160E000 	>  e_lis r11,pxCurrentTCB@h
 356 0174 7160C000 	>  e_or2i r11,pxCurrentTCB@l
 356              	> 
 356              	> 
 356 0178 516B0000 	>  e_lwz r11,0(r11)
 356              	> 
 356 017c 502B0000 	>  e_lwz r1,0(r11)
 356              	> 
 356 0180 18218020 	>  e_addi r1,r1,32
 356              	> 
 356              	> 
 356 0184 504B0000 	>  e_lwz r2,0(r11)
 356 0188 184280BC 	>  e_addi r2,r2,CONTEXT_SIZE+32
 356 018c 544B0000 	>  e_stw r2,0(r11)
 356              	> 
 356              	> 
 356 0190 50010000 	>  e_lwz r0,0(r1)
 356 0194 7C000124 	>  mtmsr r0
 356              	> 
 356              	> 
 356 0198 50010004 	>  e_lwz r0,4(r1)
 356 019c 7C1A03A6 	>  mtspr SRR0,r0
 356 01a0 50010008 	>  e_lwz r0,8(r1)
 356 01a4 7C1B03A6 	>  mtspr SRR1,r0
 356              	> 
 356 01a8 1821800C 	>  e_addi r1,r1,12
 356              	> 
 356              	> 
 356 01ac 18410808 	>  e_lmw r2,8(r1)
 356 01b0 50010000 	>  e_lwz r0,0(r1)
 356 01b4 18218080 	>  e_addi r1,r1,128
 356              	> 
 356              	> 
 356 01b8 18211000 	>  e_lmvsprw 0(r1)
 356              	> 
 356              	> 
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 11


 356 01bc 18218010 	>  e_addi r1,r1,16
 357              	
 358              	    /* Return into the first task */
 359 01c0 0008     	    se_rfi
 360              	
 361              	#if CORE_SUPPORTS_IVORS
 362              	    .align    4
 363              	    .globl    _spr_init
 364              	    .type     _spr_init, @function
 365              	_spr_init:
 366              	
 367              	    e_lis     %r3, HI(_IVOR4)
 368              	    e_or2i    %r3, LO(_IVOR4)
 369              	    mtIVOR4   %r3
 370              	    e_lis     %r3, HI(_IVOR8)
 371              	    e_or2i    %r3, LO(_IVOR8)
 372              	    mtIVOR8   %r3
 373              	#if (CORE_SUPPORTS_DECREMENTER == 1)
 374              	    e_lis     %r3, HI(_IVOR10)
 375              	    e_or2i    %r3, LO(_IVOR10)
 376              	    mtIVOR10  %r3
 377              	#endif /* CORE_SUPPORTS_DECREMENTER */
 378              	
 379              	    se_blr
 380              	#endif /* CORE_SUPPORTS_IVORS */
 381              	
 382              	    /* end of assembler code */
 383              	    .end
GAS LISTING C:\Users\marky\AppData\Local\Temp\ccADtn2w.s 			page 12


DEFINED SYMBOLS
./components/spc5_freertos_component_rla/lib/portable/portasm.s:112    *ABS*:0000009c CONTEXT_SIZE
./components/spc5_freertos_component_rla/lib/portable/portasm.s:246    .handlers:00000000 _IVOR8
./components/spc5_freertos_component_rla/lib/portable/portasm.s:275    .handlers:000000a0 _IVOR4
./components/spc5_freertos_component_rla/lib/portable/portasm.s:354    .handlers:00000170 vPortStartFirstTask

UNDEFINED SYMBOLS
pxCurrentTCB
vTaskSwitchContext
